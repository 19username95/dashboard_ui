$(document).ready((function(){fetch("/mocks/summary.json").then(e=>e.json()).then(renderSummary),fetch("/mocks/unresolved-tickets.json").then(e=>e.json()).then(renderUnresolvedTickets),fetch("/mocks/tasks.json").then(e=>e.json()).then(renderTasks),reRenderAllTickets()})),$(".menu__tabs .menu__tab").on("click",(function(e){e.preventDefault(),$(this).siblings().removeClass("menu__tab_active"),$(this).addClass("menu__tab_active");let t=$(this).attr("data-page-id");$(t).addClass("content__page_active"),$(".content > .content__page").not(t).removeClass("content__page_active")}));const renderSummary=({summaryCards:e})=>{const t=$(".summary__cards");e.map((e,s)=>{t.append(`\n    <div class="summary__cards--card card">\n        <div class="summary__cards--title">${e.name}</div>\n        <div class="summary__cards--amount">${e.amount}</div>\n      </div>\n    `)})};let currentPage=1,elementsPerPage=8;function prevPage(){currentPage--,reRenderAllTickets()}function nextPage(){currentPage++,reRenderAllTickets()}function reRenderAllTickets(){fetch("/mocks/all-tickets.json").then(e=>e.json()).then(renderAllTickets)}const renderAllTickets=({tickets:e})=>{let t=Math.ceil(e.length/elementsPerPage);if(currentPage>t)return void currentPage--;if(currentPage<=0)return void(currentPage=1);let s=document.getElementById("current-tickets-page"),n=(currentPage-1)*elementsPerPage+1,a=currentPage*elementsPerPage;s.innerHTML=n+"-"+a+" of "+t;const i=$(".all-tickets__tickets").empty();for(let t=(currentPage-1)*elementsPerPage;t<currentPage*elementsPerPage&&t<e.length;t++){let s=new Date(e[t].deadlineDate);i.append(`\n      <div class="all-tickets__ticket">\n        <div class="all-tickets__ticket-details">\n            <div class="all-tickets__ticket-photo">\n                <img class="all-tickets__ticket-image" alt="" src="${e[t].photoUrl}"/>\n            </div>\n            <div class="all-tickets__ticket-info">\n              <div class="all-tickets__ticket-title">${e[t].title}</div>\n              <div class="all-tickets__last-update">Updated ${e[t].lastUpdate}</div>\n            </div>\n        </div>\n         <div class="all-tickets__customer">\n            <div class="all-tickets__customer-name">${e[t].customerName} ${e[t].customerSurname}</div>\n            <div class="all-tickets__created-date">on ${e[t].createdDate}</div>\n         </div>\n         <div class="all-tickets__date-time">\n            <div class="all-tickets__date">${moment(s).format("MMM DD, YYYY")}</div>\n            <div class="all-tickets__time">${moment(s).format("LT")}</div>\n         </div>\n         <div class="all-tickets__priority all-tickets__priority-${e[t].priority}">${e[t].priority}</div>\n         <div class="all-tickets__more-button">\n            <i class="all-tickets__button-icon fas fa-ellipsis-v"></i>\n         </div>\n      </div>\n      <div class="all-tickets__ticket-border"></div>\n    `)}},renderUnresolvedTickets=({unresolvedTickets:e})=>{const t=$(".unresolved-tickets__items");e.map((e,s)=>{t.append(`\n    <div class="unresolved-tickets__item">\n      <div class="unresolved-tickets__item-title">${e.name}</div>\n      <div class="unresolved-tickets__item-count">${e.count}</div>\n    </div>\n    <div class="unresolved-tickets__item-border"></div>\n    `)})},renderTasks=({tasks:e})=>{const t=$(".tasks__tasks-list");e.map((e,s)=>{let n=!0===e.completed?"checked":"";t.append('\n      <div class="tasks__list-border"></div>\n      <div class="tasks__task task">\n        <input type="checkbox" class="task__checkbox" '+n+`>\n        <div class="task__title">${e.title}</div>\n        <div class="task__status task__status-${e.status}">${e.status}</div>\n      </div>\n    `)})};